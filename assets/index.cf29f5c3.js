var X=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var $=(t,r,n)=>r in t?X(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,g=(t,r)=>{for(var n in r||(r={}))re.call(r,n)&&$(t,n,r[n]);if(H)for(var n of H(r))ne.call(r,n)&&$(t,n,r[n]);return t},v=(t,r)=>ee(t,te(r));import{r as m,j as e,c as oe,i as ae,b as ie,a as le,u as z,Q as se,e as Q,T as s,d as ce,f as i,g as ue,h as C,L as f,k as T,l as w,I as A,m as de,n as he,B as fe,o as me,p as pe,C as D,q as B,M as F,s as ge,t as ve,S as be,A as ye,v as xe,w as ke,F as d,D as Se,x as Ce,y as Fe,z as ze,E as Le,G as Ie,H as L,J as Te,K as k,N as R,O as we,P as _,R as h,U as j,V as P,W as Ae,X as E,Y as De,Z as Be,_ as qe,$ as b,a0 as Oe,a1 as Ne,a2 as He,a3 as $e,a4 as Qe,a5 as Re,a6 as _e,a7 as je}from"./vendor.c8a42658.js";const Pe=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}};Pe();function Ee(){return JSON.parse(localStorage.getItem("HIST130-Quiz")||"{}").favourites||[]}function Me(t){localStorage.setItem("HIST130-Quiz",JSON.stringify({favourites:t}))}function We(t,r){let n=t;switch(r.type){case"add":t.includes(r.id)||(n=[...t,r.id]);break;case"remove":n=t.filter(a=>a!==r.id);break;case"clear":n=[];break;default:throw new Error("Error updating the favourites")}return Promise.resolve().then(()=>Me(n)),n}function Ze(){const[t,r]=m.exports.useReducer(We,Ee());return{favouriteIDs:t,onBookmark:(n,a)=>{r({type:a?"remove":"add",id:n})},clearFavourites:()=>r({type:"clear",id:-1})}}const M=m.exports.createContext();function Ge({children:t}){const r=Ze();return e(M.Provider,{value:r,children:t})}function W(){return m.exports.useContext(M)}var Ve=oe({palette:{primary:{main:ae["900"],light:"#534bae",dark:"#000051"},secondary:{main:ie["500"],light:"#6ec6ff",dark:"#0069c0"}}});const Z="/HIST130-Quiz/",Ue=le.create({baseURL:Z,headers:{"Content-Type":"application/json",Accept:"application/json"}});async function I(t){return Ue.get(t).then(r=>r.data)}function G(){return z("chapters",()=>I("/chapters.json"))}const Ye=new se({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1}}});function V(t){return t===void 0?z("definitions",()=>I("/definitions.json")):z(["definitions",t],()=>I("/definitions.json").then(r=>r==null?void 0:r.filter(n=>n.chapterId===t)))}const Je="default_service",Ke="ZIKOORmHl6Yks5NsS",Xe="HIST130-Quiz";Q.init(Ke);async function et(t){return Q.send(Je,Xe,t).then(()=>({success:!0,message:"Feedback sent."})).catch(r=>({success:!1,message:r.text}))}function tt(){return e(s,{variant:"subtitle1",component:"h2",sx:{flexGrow:1},children:"Made with \u2764\uFE0F by Haltarys!"})}function rt(){const t=ce(),r=["/","/favourites","/quiz"].includes(t.pathname)?t.pathname:!1;return i(ue,{value:r,indicatorColor:"secondary",variant:"fullWidth",textColor:"inherit",component:"nav",children:[e(C,{value:"/",label:"Reference",component:f,to:"/"}),e(C,{value:"/favourites",label:"Favourites",component:f,to:"/favourites"}),e(C,{value:"/quiz",label:"Quiz",component:f,to:"/quiz"})]})}function nt(){return e(s,{variant:"h6",sx:{flexGrow:1},component:"h1",children:e(T,{color:"inherit",underline:"none",component:f,to:"/",children:"HIST 130 Quiz"})})}function ot(){return e(w,{title:"View the source code on Github!",children:e(A,{size:"large",color:"inherit",href:"https://github.com/Haltarys/HIST130-Quiz",target:"_blank",rel:"norefferer noopener",children:e(de,{})})})}function at({handleClick:t}){return e(w,{title:"Send Feedback",children:e(A,{size:"large",color:"inherit",onClick:t,children:e(he,{})})})}function it({handleClose:t}){return e(fe,{variant:"outlined",onClick:t,children:"Cancel"})}function lt({loading:t}){return e(me,{type:"submit",variant:"contained",startIcon:e(pe,{}),loading:t,loadingPosition:"start",children:"Send"})}function st({control:t}){return e(D,{control:t,name:"object",defaultValue:"",rules:{required:!0},render:({field:r,fieldState:{invalid:n}})=>i(B,v(g({},r),{variant:"outlined",label:"Object",select:!0,required:!0,placeholder:"Select a type of feedback",error:n,helperText:n&&"Please select a type of feedback",fullWidth:!0,margin:"normal",children:[e(F,{value:"feature",children:"Feature request"}),e(F,{value:"bug",children:"Bug report"}),e(F,{value:"other",children:"Other"})]}))})}const ct=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function ut({control:t}){return e(D,{control:t,name:"email",defaultValue:"",rules:{required:!1,pattern:ct},render:({field:r,fieldState:{invalid:n}})=>e(B,v(g({},r),{variant:"outlined",label:"Email address (optional)",type:"email",placeholder:"Only required if you want me to reach back.",error:n,helperText:n&&"Invalid email address",fullWidth:!0,margin:"normal",InputProps:{startAdornment:e(ge,{position:"start",children:e(ve,{})})}}))})}function dt({control:t}){return e(D,{control:t,name:"message",defaultValue:"",rules:{required:!0},render:({field:r,fieldState:{invalid:n}})=>e(B,v(g({},r),{variant:"outlined",label:"Your message",type:"text",required:!0,error:n,helperText:n&&"Let me know your thoughts.",multiline:!0,rows:8,fullWidth:!0,margin:"normal"}))})}function ht(t){return e(xe,v(g({},t),{direction:"left"}))}function ft({feedback:{success:t,message:r},clearFeedback:n}){const a=(o,l)=>{l!=="clickaway"&&n()};return e(be,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:!0,message:r,autoHideDuration:6e3,TransitionComponent:ht,onClose:a,children:e(ye,{variant:"filled",severity:t?"success":"error",sx:{width:"100%"},onClose:a,children:r})})}function mt({open:t,handleClose:r}){const[n,a]=m.exports.useState(!1),[o,l]=m.exports.useState(void 0),{control:c,handleSubmit:S,reset:p}=ke({mode:"onBlur",reValidateMode:"onBlur",shouldUnregister:!0}),x=S(async u=>{a(!0),l(await et(u)),r(),a(!1),p()});return i(d,{children:[e(Se,{open:t,onClose:r,disableEscapeKeyDown:n,onBackdropClick:()=>{n||r()},children:i("form",{onSubmit:x,children:[e(Ce,{children:"Send feedback"}),i(Fe,{children:[e(st,{control:c}),e(ut,{control:c}),e(dt,{control:c})]}),i(ze,{children:[e(it,{handleClose:r}),e(lt,{loading:n})]})]})}),o&&e(ft,{feedback:o,clearFeedback:()=>l(void 0)})]})}function pt(){const[t,r]=m.exports.useState(!1);return i(d,{children:[e(at,{handleClick:()=>r(!0)}),e(mt,{open:t,handleClose:()=>r(!1)})]})}function gt(){return i(Le,{position:"sticky",children:[i(Ie,{children:[e(nt,{}),e(tt,{}),e(pt,{}),e(ot,{})]}),e(rt,{})]})}function y({children:t}){return e(L,{height:"100%",display:"grid",sx:{placeItems:"center"},children:i(s,{color:"error",component:"div",textAlign:"center",children:[e(Te,{color:"error",sx:{fontSize:96}}),e(s,{variant:"h4",color:"error",children:"An error occurred:"}),t||"Unknown error."]})})}function U(t){return[...Array(t).keys()]}function vt(){return e(k,{item:!0,xs:12,sm:6,md:4,lg:3,children:i(R,{sx:{backgroundColor:we["100"]},children:[e(_,{title:e(h,{variant:"text",children:e(s,{variant:"h5",children:"Lorem ipsum dolor sit."})}),subheader:e(h,{variant:"text",children:e(s,{variant:"body1",children:"Lorem, ipsum dolor."})})}),e(j,{children:e(h,{variant:"text",children:e(s,{variant:"body2",color:"text.secondary",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Qui sapiente soluta aliquid porro rem sunt molestiae neque, consectetur rerum harum atque molestias hic quidem cum."})})}),e(P,{children:e(h,{variant:"circular",width:59,height:59})})]})})}function q({numberOfPlaceholders:t=12}){return e(d,{children:U(t).map((r,n)=>e(vt,{},n))})}function bt(){return i(d,{children:[e(h,{variant:"text",children:e(s,{variant:"h4",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})}),e(h,{variant:"text",children:e(s,{variant:"body1",children:"Lorem ipsum dolor sit."})})]})}function yt(){return e(d,{children:U(2).map((t,r)=>e(O,{header:void 0,children:e(q,{})},r))})}function xt({header:t}){return t===void 0?e(bt,{}):typeof t=="string"?e(s,{variant:"h4",children:t}):e(d,{children:t})}function O({header:t,children:r}){return i(k,{container:!0,spacing:2,paddingBottom:3,children:[e(k,{item:!0,xs:12,children:e(xt,{header:t})}),r]})}function kt(){return i(s,{color:"secondary",component:"div",sx:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:2},children:[e(Ae,{color:"secondary",sx:{fontSize:96}}),e(s,{variant:"h4",color:"secondary",children:"Nothing favourites found."}),i(s,{variant:"body1",children:["Go to the"," ",e(T,{color:"secondary",to:"/",component:f,sx:{fontWeight:"bold"},children:"homepage"})," ","and click the"," ",e(E,{color:"action",fontSize:"small",style:{verticalAlign:"text-top"}})," ","icon to add some definitions to your favourites."]})]})}function Y({definition:t,subheader:r,isFavourite:n,onBookmark:a}){return e(k,{item:!0,xs:12,sm:6,md:4,lg:3,display:"flex",children:i(R,{elevation:2,sx:{display:"flex",flexDirection:"column",":hover":{boxShadow:8}},children:[e(_,{title:t.term,subheader:r}),e(j,{sx:{flexGrow:1},children:e(s,{variant:"body2",color:"text.secondary",children:t.text})}),e(P,{children:e(w,{title:n?"Remove from Favourites":"Add to Favourites",children:e(A,{size:"large",onClick:()=>a(t.id,n),color:n?"secondary":"default",children:n?e(De,{fontSize:"large"}):e(E,{fontSize:"large"})})})})]})})}function St(){const{isLoading:t,error:r,data:n}=V(),{isLoading:a,error:o,data:l}=G(),{favouriteIDs:c,onBookmark:S}=W(),p=n==null?void 0:n.filter(u=>c.includes(u.id)),x=p&&p.length>0;return r?e(y,{children:r==null?void 0:r.message}):o?e(y,{children:o==null?void 0:o.message}):e(O,{header:x&&"Favourites",children:t||a?e(q,{}):x?p.map(u=>{var N;const J=(N=l==null?void 0:l.find(K=>K.id===u.chapterId))==null?void 0:N.title;return e(Y,{definition:u,subheader:`${J} (page ${u.pageNumber})`,isFavourite:c.includes(u.id),onBookmark:S},u.id)}):e(kt,{})})}function Ct(){return i(y,{children:[e(s,{variant:"h6",children:"Page not found."}),i(s,{variant:"body1",children:["Go to"," ",e(T,{color:"error",to:"/",component:f,sx:{fontWeight:"bold"},children:"homepage"}),"."]})]})}function Ft(){return e("div",{children:"Quiz"})}function zt({chapter:t}){return i(d,{children:[i(s,{variant:"h4",children:[t.title,": ",t.subtitle]}),i(s,{variant:"body1",children:[t.period," (page ",t.pageNumber,")"]})]})}function Lt({chapter:t}){const{isLoading:r,error:n,data:a}=V(t.id),{favouriteIDs:o,onBookmark:l}=W();return n?e(y,{children:n.message}):e(O,{header:e(zt,{chapter:t}),children:r?e(q,{}):a==null?void 0:a.map(c=>e(Y,{definition:c,subheader:`${t.title} (page ${c.pageNumber})`,isFavourite:o.includes(c.id),onBookmark:l},c.id))})}function It(){const{isLoading:t,error:r,data:n}=G();return t?e(yt,{}):r?e(y,{children:r==null?void 0:r.message}):e(d,{children:n==null?void 0:n.map(a=>e(Lt,{chapter:a},a.id))})}function Tt(){return e(Be,{maxWidth:"xl",component:"main",sx:{height:"100%",paddingY:3},children:i(qe,{children:[e(b,{path:"*",element:e(Ct,{})}),e(b,{path:"/",element:e(It,{})}),e(b,{path:"/favourites",element:e(St,{})}),e(b,{path:"/favorites",element:e(Oe,{to:"/favourites",replace:!0})}),e(b,{path:"/quiz",element:e(Ft,{})})]})})}function wt(){return i(L,{display:"flex",flexDirection:"column",height:"100%",children:[e(gt,{}),e(L,{display:"flex",height:"100%",flex:1,sx:{overflowY:"auto",flexFlow:"column"},children:e(Tt,{})}),e(Ne.exports.ReactQueryDevtools,{})]})}He.render(e($e.StrictMode,{children:e(Qe,{basename:Z,children:e(Re,{children:e(_e,{theme:Ve,children:e(je,{client:Ye,children:e(Ge,{children:e(wt,{})})})})})})}),document.getElementById("root"));
