import{r as p,j as e,c as O,i as E,b as j,a as A,u as y,Q as _,T as l,d as L,e as s,f as $,g as v,L as m,h as M,k as C,I as S,l as P,A as G,m as J,n as W,o as K,p as V,S as U,F as u,q as d,G as f,C as w,s as F,t as z,v as T,w as I,x as Y,y as X,z as Z,R as g,B as ee,D as re,E as te,H as ne,J as ie,K as oe,M as ae}from"./vendor.1e2ee650.js";const se=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}};se();function ce(){return JSON.parse(localStorage.getItem("HIST130-Quiz")||"{}").favourites||[]}function le(r){localStorage.setItem("HIST130-Quiz",JSON.stringify({favourites:r}))}function de(r,t){let n=r;switch(t.type){case"add":r.includes(t.id)||(n=[...r,t.id]);break;case"remove":n=r.filter(o=>o!==t.id);break;case"clear":n=[];break;default:throw new Error("Error updating the favourites")}return Promise.resolve().then(()=>le(n)),n}function ue(){const[r,t]=p.exports.useReducer(de,ce());return{favouriteIDs:r,onBookmark:(n,o)=>{t({type:o?"remove":"add",id:n})},clearFavourites:()=>t({type:"clear",id:-1})}}const R=p.exports.createContext();function he({children:r}){const t=ue();return e(R.Provider,{value:t,children:r})}function Q(){return p.exports.useContext(R)}var me=O({palette:{primary:{main:E["900"],light:"#534bae",dark:"#000051"},secondary:{main:j["500"],light:"#6ec6ff",dark:"#0069c0"}}});const H="/HIST130-Quiz/",fe=A.create({baseURL:H,headers:{"Content-Type":"application/json",Accept:"application/json"}});async function b(r){return await fe.get(r).then(n=>n.data)}function pe(){return y("chapters",()=>b("/chapters.json"))}const ve=new _({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1}}});function N(r){return r===void 0?y("definitions",()=>b("/definitions.json")):y(["definitions",r],()=>b("/definitions.json").then(t=>t==null?void 0:t.filter(n=>n.chapterId===r)))}function ge(){return e(l,{variant:"subtitle1",component:"h2",sx:{flexGrow:1},children:"Made with \u2764\uFE0F by Haltarys!"})}function ye(){const r=L();return s($,{value:r.pathname,indicatorColor:"secondary",variant:"fullWidth",textColor:"inherit",component:"nav",children:[e(v,{value:"/",label:"Reference",component:m,to:"/"}),e(v,{value:"/favourites",label:"Favourites",component:m,to:"/favourites"}),e(v,{value:"/quiz",label:"Quiz",component:m,to:"/quiz"})]})}function be(){return e(l,{variant:"h6",sx:{flexGrow:1},component:"h1",children:e(M,{color:"inherit",underline:"none",component:m,to:"/",children:"HIST 130 Quiz"})})}function xe(){return e(C,{title:"View the source code on Github!",children:e(S,{size:"large",color:"inherit",href:"https://github.com/Haltarys/HIST130-Quiz",target:"_blank",children:e(P,{})})})}function Ce(){return s(G,{position:"sticky",children:[s(J,{children:[e(be,{}),e(ge,{}),e(C,{title:"Send Feedback",children:e(S,{size:"large",color:"inherit",component:m,to:"/feedback",children:e(W,{})})}),e(xe,{})]}),e(ye,{})]})}function Se({children:r,location:t}){t=t||L();const n=K(r),o=V(n,t),i=n.findIndex(a=>a===(o==null?void 0:o[0].route));return s(U,{index:i+1,children:[e("div",{children:"No match!"}),n.map(a=>e(p.exports.Fragment,{children:a.element},a.path))]})}function ke({chapter:r}){return s(u,{children:[s(l,{variant:"h4",children:[r.title,": ",r.subtitle]}),s(l,{variant:"body1",children:[r.period," (page ",r.pageNumber,")"]})]})}function x(r){return[...Array(r).keys()]}function Le({chapter:r,numberOfPlaceholders:t=12}){const{isLoading:n,error:o,data:i}=N(r.id),{favouriteIDs:a,onBookmark:c}=Q();return o?s("div",{children:["Error: ",o.message]}):e(k,{header:e(ke,{chapter:r}),children:n?x(t).map((h,D)=>e(B,{},D)):i==null?void 0:i.map(h=>e(q,{definition:h,subheader:`${r.title} (page ${h.pageNumber})`,isFavourite:a.includes(h.id),onBookmark:c},h.id))})}function we(){return s(u,{children:[e(d,{variant:"text",children:e(l,{variant:"h4",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})}),e(d,{variant:"text",children:e(l,{variant:"body1",children:"Lorem ipsum dolor sit."})})]})}function Fe({numberOfPlaceholders:r=12}){return e(u,{children:x(2).map((t,n)=>e(k,{header:void 0,children:x(r).map((o,i)=>e(B,{},i))},n))})}function ze({header:r}){return r===void 0?e(we,{}):typeof r=="string"?e(l,{variant:"h4",children:r}):e(u,{children:r})}function k({header:r,children:t}){return s(f,{container:!0,spacing:2,padding:2,paddingBottom:4,children:[e(f,{item:!0,xs:12,children:e(ze,{header:r})}),t]})}function B(){return e(f,{item:!0,xs:12,sm:6,md:4,lg:3,children:s(w,{sx:{backgroundColor:F["100"]},children:[e(z,{title:e(d,{variant:"text",children:e(l,{variant:"h5",children:"Lorem ipsum dolor sit."})}),subheader:e(d,{variant:"text",children:e(l,{variant:"body1",children:"Lorem, ipsum dolor."})})}),e(T,{children:e(d,{variant:"text",children:e(l,{variant:"body2",color:"text.secondary",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Qui sapiente soluta aliquid porro rem sunt molestiae neque, consectetur rerum harum atque molestias hic quidem cum."})})}),e(I,{children:e(d,{variant:"circular",width:59,height:59})})]})})}function q({definition:r,subheader:t,isFavourite:n,onBookmark:o}){return e(f,{item:!0,xs:12,sm:6,md:4,lg:3,children:s(w,{sx:{backgroundColor:F["100"]},children:[e(z,{title:r.term,subheader:t}),e(T,{children:e(l,{variant:"body2",color:"text.secondary",children:r.text||"lorem ipsum dolor sit amet conspicing delectetur."})}),e(I,{children:e(C,{title:n?"Remove from Favourites":"Add to Favourites",children:e(S,{size:"large",onClick:()=>o(r.id,n),color:n?"secondary":"default",children:n?e(Y,{fontSize:"large"}):e(X,{fontSize:"large"})})})})]})})}function Te(){const{isLoading:r,error:t,data:n}=N(),{favouriteIDs:o,onBookmark:i}=Q(),a=n==null?void 0:n.filter(c=>o.includes(c.id));return r?e("div",{children:"loading favourite definitions..."}):t?s("div",{children:["Error: ",t.message]}):e(k,{header:"Favourites",children:a===void 0?e("div",{children:"loading..."}):a.map(c=>e(q,{definition:c,subheader:`chapter.title (page ${c.pageNumber})`,isFavourite:o.includes(c.id),onBookmark:i},c.id))})}function Ie(){return e("div",{children:"Quiz"})}function Re(){const{isLoading:r,error:t,data:n}=pe();return r?e(Fe,{}):t?s("div",{children:["Error: ",t.message]}):e(u,{children:n==null?void 0:n.map(o=>e(Le,{chapter:o},o.id))})}function Qe(){return e(Z,{maxWidth:"xl",component:"main",sx:{marginY:2},children:s(Se,{children:[e(g,{path:"/",element:e(Re,{})}),e(g,{path:"/favourites",element:e(Te,{})}),e(g,{path:"/quiz",element:e(Ie,{})})]})})}function He(){return s(u,{children:[e(Ce,{}),e(Qe,{}),e(ee.exports.ReactQueryDevtools,{})]})}re.render(e(te.StrictMode,{children:e(ne,{basename:H,children:e(ie,{children:e(oe,{theme:me,children:e(ae,{client:ve,children:e(he,{children:e(He,{})})})})})})}),document.getElementById("root"));
