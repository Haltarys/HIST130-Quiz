var oe=Object.defineProperty,ae=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var _=(t,r,n)=>r in t?oe(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,v=(t,r)=>{for(var n in r||(r={}))se.call(r,n)&&_(t,n,r[n]);if(R)for(var n of R(r))ce.call(r,n)&&_(t,n,r[n]);return t},b=(t,r)=>ae(t,le(r));import{u as de,a as ue,c as P,b as he,d as fe,i as me,e as pe,f as ge,Q as ve,j as i,F as f,g as e,T as a,L as d,h as u,k as q,l as j,m as D,G as k,C as M,n as be,o as E,S as p,p as G,q as W,B as L,r as ye,s as xe,t as x,I as w,v as Ce,M as Se,w as S,x as ke,y as Fe,z as Ie,A as we,R as Ae,D as m,N as Te,E as Z,H as ze,J as De,K as Le,O as $,P as H,U as Be,V as qe,W as $e,X as He,Y as Oe,Z as B,_ as Ne,$ as Qe,a0 as Re,a1 as _e,a2 as Pe,a3 as je,a4 as Me,a5 as Ee,a6 as z,a7 as Ge,a8 as We,a9 as Ze,aa as Ve,ab as Ye,ac as Ue,ad as Je,ae as Ke,af as Xe,ag as et,ah as tt}from"./vendor.965ee293.js";const rt=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}};rt();const V=()=>ue(),Y=de;function nt(){return JSON.parse(localStorage.getItem("HIST130-Quiz")||"{}").favourites||[]}function C(t){localStorage.setItem("HIST130-Quiz",JSON.stringify({favourites:t}))}const it={favouriteIDs:nt()},U=P({name:"favourites",initialState:it,reducers:{setFavourites:(t,r)=>{t.favouriteIDs=r.payload,Promise.resolve(C(t.favouriteIDs))},addToFavourites:(t,r)=>{t.favouriteIDs.includes(r.payload)||(t.favouriteIDs.push(r.payload),Promise.resolve(C(t.favouriteIDs)))},removeFromFavourites:(t,r)=>{t.favouriteIDs=t.favouriteIDs.filter(n=>n!==r.payload),Promise.resolve(C(t.favouriteIDs))},clearFavourites:t=>{t.favouriteIDs=[],Promise.resolve(C(t.favouriteIDs))}}}),{addToFavourites:ot,removeFromFavourites:at,clearFavourites:rr}=U.actions;function J(){return Y(t=>t.favourites.favouriteIDs)}function K(){const t=V();return(r,n)=>t(n?at(r):ot(r))}var lt=U.reducer;const st={selectedChapters:{}},X=P({name:"favourites",initialState:st,reducers:{selectChapter:(t,r)=>{t.selectedChapters[r.payload]=!0},deselectChapter:(t,r)=>{t.selectedChapters[r.payload]=!1},clearSelectedChapters:t=>{t.selectedChapters={}}}}),{selectChapter:ct,deselectChapter:dt,clearSelectedChapters:nr}=X.actions;function ut(){return Y(t=>t.selectedChapters.selectedChapters)}function ht(){const t=V();return(r,n)=>t(n?dt(r):ct(r))}var ft=X.reducer;const mt=he({reducer:{favourites:lt,selectedChapters:ft}});var pt=fe({palette:{primary:{main:me["900"],light:"#534bae",dark:"#000051"},secondary:{main:pe["500"],light:"#6ec6ff",dark:"#0069c0"}}});const ee="/HIST130-Quiz/",gt=ge.create({baseURL:ee,headers:{"Content-Type":"application/json",Accept:"application/json"}});async function F(t){return gt.get(t).then(r=>r.data)}const te=new ve({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1}}});te.prefetchQuery("chapters",()=>F("/chapters.json"));function vt(){return i(f,{children:[e(a,{variant:"h4",children:"About this website"}),e(a,{variant:"body1",marginBottom:4,children:"This website is an interactive app to help you memorise the definitions of HIST 130 at CSUSM."}),e(a,{variant:"h5",children:"Reference"}),i(a,{variant:"body1",marginBottom:2,children:["In the"," ",e(d,{color:"primary",component:u,to:"/",children:"Reference"})," ","tab, you can find the list of definitions, grouped by chapter."]}),e(a,{variant:"h5",children:"Favourites"}),i(a,{variant:"body1",marginBottom:2,children:["Go to the"," ",e(d,{color:"primary",to:"/",component:u,children:"Reference"})," ","page and click the"," ",e(q,{color:"action",fontSize:"small",style:{verticalAlign:"text-top"}})," ","icon to add some definitions to your favourites. You can browse your favourites"," ",e(d,{color:"primary",to:"/favourites",component:u,children:"here"}),"."]}),e(a,{variant:"h5",children:"Quiz"}),i(a,{variant:"body1",marginBottom:2,children:["Test your memory in the"," ",e(d,{component:u,to:"/quiz",children:"Quiz"})," ","tab! Find a term, given its definition. You can narrow which chapters you want to train with."]}),e(a,{variant:"h5",children:"Feedback"}),i(a,{variant:"body1",marginBottom:4,children:["Is something wrong? A bug? A question? An idea? A request? Click the"," ",e(j,{color:"action",fontSize:"small",style:{verticalAlign:"text-top"}})," ","icon in the top-right corner to get in touch!"]}),e(a,{variant:"h4",children:"Credits"}),i(a,{variant:"body1",marginBottom:4,children:["All the definitions were handwritten from the book"," ",e(d,{href:"https://www.macmillanlearning.com/college/us/product/The-American-Promise-Volume-1/p/1319208894",target:"_blank",children:"The American Promise (Roark et al., 2019)"}),". The rest of the"," ",e(d,{href:"https://github.com/Haltarys/HIST130-Quiz",target:"_blank",children:"code"})," ","was written by me,"," ",e(d,{href:"https://github.com/Haltarys",target:"_blank",children:"Haltarys"}),", under an"," ",e(d,{href:"https://mit-license.org/",target:"_blank",children:"MIT licence"}),"."]})]})}function re(t){return t===void 0?D("definitions",()=>F("/definitions.json")):D(["definitions",t],()=>F("/definitions.json").then(r=>r==null?void 0:r.filter(n=>n.chapterId===t)))}function O(){return D("chapters",()=>F("/chapters.json"))}function bt(t){return[...Array(t).keys()]}function yt(){return e(k,{item:!0,xs:12,sm:6,md:4,lg:3,children:i(M,{sx:{backgroundColor:be["100"]},children:[e(E,{title:e(p,{variant:"text",children:e(a,{variant:"h5",children:"Lorem ipsum dolor sit."})}),subheader:e(p,{variant:"text",children:e(a,{variant:"body1",children:"Lorem, ipsum dolor."})})}),e(G,{children:e(p,{variant:"text",children:e(a,{variant:"body2",color:"text.secondary",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Qui sapiente soluta aliquid porro rem sunt molestiae neque, consectetur rerum harum atque molestias hic quidem cum."})})}),e(W,{children:e(p,{variant:"circular",width:59,height:59})})]})})}function xt(){return i(f,{children:[e(p,{variant:"text",children:e(a,{variant:"h4",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})}),e(p,{variant:"text",children:e(a,{variant:"body1",children:"Lorem ipsum dolor sit."})})]})}function Ct({header:t}){return t===void 0?e(xt,{}):typeof t=="string"?e(a,{variant:"h4",children:t}):e(f,{children:t})}function N({header:t,children:r}){return i(k,{container:!0,spacing:2,paddingBottom:3,children:[e(k,{item:!0,xs:12,children:e(Ct,{header:t})}),r]})}function I({numberOfPlaceholders:t=12}){return e(N,{header:void 0,children:bt(t).map((r,n)=>e(yt,{},n))})}function y({children:t}){return e(L,{height:"100%",display:"grid",sx:{placeItems:"center"},children:i(a,{color:"error",component:"div",textAlign:"center",children:[e(ye,{color:"error",sx:{fontSize:96}}),e(a,{variant:"h4",color:"error",children:"An error occurred:"}),t||"Unknown error."]})})}function St(){return i(a,{color:"secondary",component:"div",sx:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:2},children:[e(xe,{color:"secondary",sx:{fontSize:96}}),e(a,{variant:"h4",color:"secondary",children:"Nothing favourites found."}),i(a,{variant:"body1",children:["Go to the"," ",e(d,{color:"secondary",to:"/",component:u,sx:{fontWeight:"bold"},children:"Reference"})," ","page and click the"," ",e(q,{color:"action",fontSize:"small",style:{verticalAlign:"text-top"}})," ","icon to add some definitions to your favourites."]})]})}function ne({definition:t,subheader:r,isFavourite:n,onBookmark:s}){return e(k,{item:!0,xs:12,sm:6,md:4,lg:3,display:"flex",children:i(M,{elevation:2,sx:{display:"flex",flexDirection:"column",":hover":{boxShadow:8}},children:[e(E,{title:t.term,subheader:r}),e(G,{sx:{flexGrow:1},children:e(a,{variant:"body2",color:"text.secondary",children:t.text})}),e(W,{children:e(x,{title:n?"Remove from Favourites":"Add to Favourites",children:e(w,{size:"large",onClick:()=>s(t.id,n),color:n?"secondary":"default",children:n?e(Ce,{fontSize:"large"}):e(q,{fontSize:"large"})})})})]})})}function kt(){const{isLoading:t,error:r,data:n}=re(),{isLoading:s,error:l,data:o}=O(),c=J(),A=K(),g=n==null?void 0:n.filter(h=>c.includes(h.id));return t||s?e(I,{}):r?e(y,{children:r==null?void 0:r.message}):l?e(y,{children:l==null?void 0:l.message}):!g||g.length===0?e(St,{}):e(N,{header:"Favourites",children:g.map(h=>{var Q;const T=(Q=o==null?void 0:o.find(ie=>ie.id===h.chapterId))==null?void 0:Q.title;return e(ne,{definition:h,subheader:`${T} (page ${h.pageNumber})`,isFavourite:c.includes(h.id),onBookmark:A},h.id)})})}function Ft(){return i(y,{children:[e(a,{variant:"h6",children:"Page not found."}),i(a,{variant:"body1",children:["Go to"," ",e(d,{color:"error",to:"/",component:u,sx:{fontWeight:"bold"},children:"homepage"}),"."]})]})}function It(){const{isLoading:t,error:r,data:n}=O(),s=ut(),l=ht();return t?e("div",{children:"loading..."}):r?i("div",{children:["Error: ",r.message]}):e(Se,{children:n==null?void 0:n.map(o=>e(x,{placement:"right",title:`${o.title}: ${o.subtitle}`,children:i(S,{children:[e(ke,{children:o.title}),e(Fe,{checked:s[o.id]||!1,onChange:()=>l(o.id,s[o.id]||!1),edge:"end"})]})},o.id))})}function wt(){return e(Ie,{height:"100%",display:"grid",sx:{placeItems:"center"},children:e(It,{})})}function At({chapter:t}){return i(f,{children:[i(a,{variant:"h4",children:[t.title,": ",t.subtitle]}),i(a,{variant:"body1",children:[t.period," (page ",t.pageNumber,")"]})]})}function Tt({chapter:t}){const{isLoading:r,error:n,data:s}=re(t.id),l=J(),o=K();return r?e(I,{}):n?e(y,{children:n.message}):e(N,{header:e(At,{chapter:t}),children:s==null?void 0:s.map(c=>e(ne,{definition:c,subheader:`${t.title} (page ${c.pageNumber})`,isFavourite:l.includes(c.id),onBookmark:o},c.id))})}function zt(){return i(f,{children:[e(I,{}),e(I,{})]})}function Dt(){const{isLoading:t,error:r,data:n}=O();return t?e(zt,{}):r?e(y,{children:r==null?void 0:r.message}):e(f,{children:n==null?void 0:n.map(s=>e(Tt,{chapter:s},s.id))})}function Lt(){return e(we,{maxWidth:"xl",component:"main",sx:{height:"100%",paddingY:3},children:i(Ae,{children:[e(m,{path:"*",element:e(Ft,{})}),e(m,{path:"/",element:e(Dt,{})}),e(m,{path:"/favourites",element:e(kt,{})}),e(m,{path:"/favorites",element:e(Te,{to:"/favourites",replace:!0})}),e(m,{path:"/quiz",element:e(wt,{})}),e(m,{path:"/about",element:e(vt,{})})]})})}function Bt({handleClick:t}){return e(x,{title:"Send Feedback",children:e(w,{size:"large",color:"inherit",onClick:t,children:e(j,{})})})}const qt="default_service",$t="ZIKOORmHl6Yks5NsS",Ht="HIST130-Quiz";Z.init($t);async function Ot(t){return Z.send(qt,Ht,t).then(()=>({success:!0,message:"Feedback sent."})).catch(r=>({success:!1,message:r.text}))}function Nt({handleClose:t}){return e(ze,{variant:"outlined",onClick:t,children:"Cancel"})}function Qt({loading:t}){return e(De,{type:"submit",variant:"contained",startIcon:e(Le,{}),loading:t,loadingPosition:"start",children:"Send"})}function Rt({control:t}){return e($,{control:t,name:"object",defaultValue:"",rules:{required:!0},render:({field:r,fieldState:{invalid:n}})=>i(H,b(v({},r),{variant:"outlined",label:"Object",select:!0,required:!0,placeholder:"Select a type of feedback",error:n,helperText:n&&"Please select a type of feedback",fullWidth:!0,margin:"normal",children:[e(S,{value:"feature",children:"Feature request"}),e(S,{value:"bug",children:"Bug report"}),e(S,{value:"other",children:"Other"})]}))})}const _t=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Pt({control:t}){return e($,{control:t,name:"email",defaultValue:"",rules:{required:!1,pattern:_t},render:({field:r,fieldState:{invalid:n}})=>e(H,b(v({},r),{variant:"outlined",label:"Email address (optional)",type:"email",placeholder:"Only required if you want me to reach back.",error:n,helperText:n&&"Invalid email address",fullWidth:!0,margin:"normal",InputProps:{startAdornment:e(Be,{position:"start",children:e(qe,{})})}}))})}function jt({control:t}){return e($,{control:t,name:"message",defaultValue:"",rules:{required:!0},render:({field:r,fieldState:{invalid:n}})=>e(H,b(v({},r),{variant:"outlined",label:"Your message",type:"text",required:!0,error:n,helperText:n&&"Let me know your thoughts.",multiline:!0,rows:8,fullWidth:!0,margin:"normal"}))})}function Mt(t){return e(Oe,b(v({},t),{direction:"left"}))}function Et({feedback:{success:t,message:r},clearFeedback:n}){const s=(l,o)=>{o!=="clickaway"&&n()};return e($e,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:!0,message:r,autoHideDuration:6e3,TransitionComponent:Mt,onClose:s,children:e(He,{variant:"filled",severity:t?"success":"error",sx:{width:"100%"},onClose:s,children:r})})}function Gt({open:t,handleClose:r}){const[n,s]=B.exports.useState(!1),[l,o]=B.exports.useState(void 0),{control:c,handleSubmit:A,reset:g}=Ne({mode:"onBlur",reValidateMode:"onBlur",shouldUnregister:!0}),h=A(async T=>{s(!0),o(await Ot(T)),r(),s(!1),g()});return i(f,{children:[e(Qe,{open:t,onClose:r,disableEscapeKeyDown:n,onBackdropClick:()=>{n||r()},children:i("form",{onSubmit:h,children:[e(Re,{children:"Send feedback"}),i(_e,{children:[e(Rt,{control:c}),e(Pt,{control:c}),e(jt,{control:c})]}),i(Pe,{children:[e(Nt,{handleClose:r}),e(Qt,{loading:n})]})]})}),l&&e(Et,{feedback:l,clearFeedback:()=>o(void 0)})]})}function Wt(){const[t,r]=B.exports.useState(!1);return i(f,{children:[e(Bt,{handleClick:()=>r(!0)}),e(Gt,{open:t,handleClose:()=>r(!1)})]})}function Zt(){return e(x,{title:"About this website",children:e(w,{size:"large",color:"inherit",component:u,to:"/about",children:e(je,{})})})}function Vt(){return e(a,{variant:"subtitle1",component:"h2",sx:{flexGrow:1},children:"Made with \u2764\uFE0F by Haltarys!"})}function Yt(){const t=Me(),r=["/","/favourites","/quiz"].includes(t.pathname)?t.pathname:!1;return i(Ee,{value:r,indicatorColor:"secondary",variant:"fullWidth",textColor:"inherit",component:"nav",children:[e(z,{value:"/",label:"Reference",component:u,to:"/"}),e(z,{value:"/favourites",label:"Favourites",component:u,to:"/favourites"}),e(z,{value:"/quiz",label:"Quiz",component:u,to:"/quiz"})]})}function Ut(){return e(a,{variant:"h6",sx:{flexGrow:1},component:"h1",children:e(d,{color:"inherit",underline:"none",component:u,to:"/",children:"HIST 130 Quiz"})})}function Jt(){return e(x,{title:"View the source code on Github!",children:e(w,{size:"large",color:"inherit",href:"https://github.com/Haltarys/HIST130-Quiz",target:"_blank",rel:"norefferer noopener",children:e(Ge,{})})})}function Kt(){return i(We,{position:"sticky",children:[i(Ze,{children:[e(Ut,{}),e(Vt,{}),e(Wt,{}),e(Zt,{}),e(Jt,{})]}),e(Yt,{})]})}function Xt(){return i(L,{display:"flex",flexDirection:"column",height:"100%",children:[e(Kt,{}),e(L,{display:"flex",height:"100%",flex:1,sx:{overflowY:"auto",flexFlow:"column"},children:e(Lt,{})}),e(Ve.exports.ReactQueryDevtools,{})]})}Ye.render(e(Ue.StrictMode,{children:e(Je,{basename:ee,children:e(Ke,{children:e(Xe,{theme:pt,children:e(et,{client:te,children:e(tt,{store:mt,children:e(Xt,{})})})})})})}),document.getElementById("root"));
