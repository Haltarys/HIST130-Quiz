import{r as S,j as e,c as J,i as U,b as V,a as K,u as x,Q as Y,T as i,d as X,e as l,f as Z,g as y,L as u,h as L,k,I as z,l as ee,m as re,n as te,o as ne,A as oe,p as ie,B as b,q as ae,G as v,C as R,s as ce,t as q,S as h,v as D,w as _,F as f,x as le,y as H,z as se,D as de,R as ue,E as m,N as he,H as fe,J as me,K as pe,M as ve,O as ge,P as ye,U as xe}from"./vendor.fc6d69c0.js";const be=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};be();function Ce(){return JSON.parse(localStorage.getItem("HIST130-Quiz")||"{}").favourites||[]}function Se(r){localStorage.setItem("HIST130-Quiz",JSON.stringify({favourites:r}))}function Le(r,t){let n=r;switch(t.type){case"add":r.includes(t.id)||(n=[...r,t.id]);break;case"remove":n=r.filter(a=>a!==t.id);break;case"clear":n=[];break;default:throw new Error("Error updating the favourites")}return Promise.resolve().then(()=>Se(n)),n}function ke(){const[r,t]=S.exports.useReducer(Le,Ce());return{favouriteIDs:r,onBookmark:(n,a)=>{t({type:a?"remove":"add",id:n})},clearFavourites:()=>t({type:"clear",id:-1})}}const Q=S.exports.createContext();function ze({children:r}){const t=ke();return e(Q.Provider,{value:t,children:r})}function B(){return S.exports.useContext(Q)}var Fe=J({palette:{primary:{main:U["900"],light:"#534bae",dark:"#000051"},secondary:{main:V["500"],light:"#6ec6ff",dark:"#0069c0"}}});const $="/HIST130-Quiz/",we=K.create({baseURL:$,headers:{"Content-Type":"application/json",Accept:"application/json"}});async function C(r){return we.get(r).then(t=>t.data)}function A(){return x("chapters",()=>C("/chapters.json"))}const Ie=new Y({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1}}});function O(r){return r===void 0?x("definitions",()=>C("/definitions.json")):x(["definitions",r],()=>C("/definitions.json").then(t=>t==null?void 0:t.filter(n=>n.chapterId===r)))}function Te(){return e(i,{variant:"subtitle1",component:"h2",sx:{flexGrow:1},children:"Made with \u2764\uFE0F by Haltarys!"})}function Ne(){const r=X(),t=["/","/favourites","/quiz"].includes(r.pathname)?r.pathname:!1;return l(Z,{value:t,indicatorColor:"secondary",variant:"fullWidth",textColor:"inherit",component:"nav",children:[e(y,{value:"/",label:"Reference",component:u,to:"/"}),e(y,{value:"/favourites",label:"Favourites",component:u,to:"/favourites"}),e(y,{value:"/quiz",label:"Quiz",component:u,to:"/quiz"})]})}function Re(){return e(i,{variant:"h6",sx:{flexGrow:1},component:"h1",children:e(L,{color:"inherit",underline:"none",component:u,to:"/",children:"HIST 130 Quiz"})})}function qe(){return e(k,{title:"View the source code on Github!",children:e(z,{size:"large",color:"inherit",href:"https://github.com/Haltarys/HIST130-Quiz",target:"_blank",children:e(ee,{})})})}var F={},De=te.exports;Object.defineProperty(F,"__esModule",{value:!0});var j=F.default=void 0,_e=De(re),He=ne,Qe=(0,_e.default)((0,He.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"}),"Feedback");j=F.default=Qe;function Be(){return l(oe,{position:"sticky",children:[l(ie,{children:[e(Re,{}),e(Te,{}),e(k,{title:"Send Feedback",children:e(z,{size:"large",color:"inherit",component:u,to:"/feedback",children:e(j,{})})}),e(qe,{})]}),e(Ne,{})]})}function p({children:r}){return e(b,{height:"100%",display:"grid",sx:{placeItems:"center"},children:l(i,{color:"error",component:"div",textAlign:"center",children:[e(ae,{color:"error",sx:{fontSize:96}}),e(i,{variant:"h4",color:"error",children:"An error occurred:"}),r||"Unknown error."]})})}function P(r){return[...Array(r).keys()]}function $e(){return e(v,{item:!0,xs:12,sm:6,md:4,lg:3,children:l(R,{sx:{backgroundColor:ce["100"]},children:[e(q,{title:e(h,{variant:"text",children:e(i,{variant:"h5",children:"Lorem ipsum dolor sit."})}),subheader:e(h,{variant:"text",children:e(i,{variant:"body1",children:"Lorem, ipsum dolor."})})}),e(D,{children:e(h,{variant:"text",children:e(i,{variant:"body2",color:"text.secondary",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Qui sapiente soluta aliquid porro rem sunt molestiae neque, consectetur rerum harum atque molestias hic quidem cum."})})}),e(_,{children:e(h,{variant:"circular",width:59,height:59})})]})})}function w({numberOfPlaceholders:r=12}){return e(f,{children:P(r).map((t,n)=>e($e,{},n))})}function Ae(){return l(f,{children:[e(h,{variant:"text",children:e(i,{variant:"h4",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})}),e(h,{variant:"text",children:e(i,{variant:"body1",children:"Lorem ipsum dolor sit."})})]})}function Oe(){return e(f,{children:P(2).map((r,t)=>e(I,{header:void 0,children:e(w,{})},t))})}function je({header:r}){return r===void 0?e(Ae,{}):typeof r=="string"?e(i,{variant:"h4",children:r}):e(f,{children:r})}function I({header:r,children:t}){return l(v,{container:!0,spacing:2,paddingBottom:3,children:[e(v,{item:!0,xs:12,children:e(je,{header:r})}),t]})}function Pe(){return l(i,{color:"secondary",component:"div",sx:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:2},children:[e(le,{color:"secondary",sx:{fontSize:96}}),e(i,{variant:"h4",color:"secondary",children:"Nothing favourites found."}),l(i,{variant:"body1",children:["Go to the"," ",e(L,{color:"secondary",to:"/",component:u,sx:{fontWeight:"bold"},children:"homepage"})," ","and click the"," ",e(H,{color:"action",fontSize:"small",style:{verticalAlign:"text-top"}})," ","icon to add some definitions to your favourites."]})]})}function G({definition:r,subheader:t,isFavourite:n,onBookmark:a}){return e(v,{item:!0,xs:12,sm:6,md:4,lg:3,display:"flex",children:l(R,{elevation:2,sx:{display:"flex",flexDirection:"column",":hover":{boxShadow:24}},children:[e(q,{title:r.term,subheader:t}),e(D,{sx:{flexGrow:1},children:e(i,{variant:"body2",color:"text.secondary",children:r.text})}),e(_,{children:e(k,{title:n?"Remove from Favourites":"Add to Favourites",children:e(z,{size:"large",onClick:()=>a(r.id,n),color:n?"secondary":"default",children:n?e(se,{fontSize:"large"}):e(H,{fontSize:"large"})})})})]})})}function Ge(){const{isLoading:r,error:t,data:n}=O(),{isLoading:a,error:o,data:c}=A(),{favouriteIDs:s,onBookmark:M}=B(),g=n==null?void 0:n.filter(d=>s.includes(d.id)),T=g&&g.length>0;return t?e(p,{children:t==null?void 0:t.message}):o?e(p,{children:o==null?void 0:o.message}):e(I,{header:T&&"Favourites",children:r||a?e(w,{}):T?g.map(d=>{var N;const E=(N=c==null?void 0:c.find(W=>W.id===d.chapterId))==null?void 0:N.title;return e(G,{definition:d,subheader:`${E} (page ${d.pageNumber})`,isFavourite:s.includes(d.id),onBookmark:M},d.id)}):e(Pe,{})})}function Me(){return l(p,{children:[e(i,{variant:"h6",children:"Page not found."}),l(i,{variant:"body1",children:["Go to"," ",e(L,{color:"error",to:"/",component:u,sx:{fontWeight:"bold"},children:"homepage"}),"."]})]})}function Ee(){return e("div",{children:"Quiz"})}function We({chapter:r}){return l(f,{children:[l(i,{variant:"h4",children:[r.title,": ",r.subtitle]}),l(i,{variant:"body1",children:[r.period," (page ",r.pageNumber,")"]})]})}function Je({chapter:r}){const{isLoading:t,error:n,data:a}=O(r.id),{favouriteIDs:o,onBookmark:c}=B();return n?e(p,{children:n.message}):e(I,{header:e(We,{chapter:r}),children:t?e(w,{}):a==null?void 0:a.map(s=>e(G,{definition:s,subheader:`${r.title} (page ${s.pageNumber})`,isFavourite:o.includes(s.id),onBookmark:c},s.id))})}function Ue(){const{isLoading:r,error:t,data:n}=A();return r?e(Oe,{}):t?e(p,{children:t==null?void 0:t.message}):e(f,{children:n==null?void 0:n.map(a=>e(Je,{chapter:a},a.id))})}function Ve(){return e(de,{maxWidth:"xl",component:"main",sx:{height:"100%",paddingY:3},children:l(ue,{children:[e(m,{path:"*",element:e(Me,{})}),e(m,{path:"/",element:e(Ue,{})}),e(m,{path:"/favourites",element:e(Ge,{})}),e(m,{path:"/favorites",element:e(he,{to:"/favourites",replace:!0})}),e(m,{path:"/quiz",element:e(Ee,{})})]})})}function Ke(){return l(b,{display:"flex",flexDirection:"column",height:"100%",children:[e(Be,{}),e(b,{display:"flex",height:"100%",flex:1,sx:{overflowY:"auto",flexFlow:"column"},children:e(Ve,{})}),e(fe.exports.ReactQueryDevtools,{})]})}me.render(e(pe.StrictMode,{children:e(ve,{basename:$,children:e(ge,{children:e(ye,{theme:Fe,children:e(xe,{client:Ie,children:e(ze,{children:e(Ke,{})})})})})})}),document.getElementById("root"));
