var oe=Object.defineProperty,le=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var Q=(t,r,n)=>r in t?oe(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,v=(t,r)=>{for(var n in r||(r={}))ce.call(r,n)&&Q(t,n,r[n]);if(R)for(var n of R(r))de.call(r,n)&&Q(t,n,r[n]);return t},b=(t,r)=>le(t,se(r));import{u as ue,a as he,c as j,b as fe,l as me,d as pe,i as ge,e as ve,f as be,Q as ye,j as a,F as f,g as e,T as o,L as d,h as u,k as q,m as M,n as z,G as C,C as P,o as Se,p as E,S as p,q as G,r as W,B as D,s as xe,t as Ce,v as S,I,w as ke,M as Fe,x,y as Ie,z as we,A as Ae,D as Te,R as ze,E as m,N as De,H as Z,J as Le,K as Be,O as qe,P as $,U as H,V as $e,W as He,X as Oe,Y as _e,Z as Ne,_ as L,$ as Re,a0 as Qe,a1 as je,a2 as Me,a3 as Pe,a4 as Ee,a5 as Ge,a6 as We,a7 as T,a8 as Ze,a9 as Ve,aa as Ye,ab as Ue,ac as Ke,ad as Je,ae as Xe,af as et,ag as tt,ah as rt,ai as nt}from"./vendor.cda50490.js";const at=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}};at();const V=()=>he(),Y=ue,it={favouriteIDs:[]},U=j({name:"favourites",initialState:it,reducers:{setFavourites:(t,r)=>{t.favouriteIDs=r.payload},addToFavourites:(t,r)=>{t.favouriteIDs.includes(r.payload)||t.favouriteIDs.push(r.payload)},removeFromFavourites:(t,r)=>{t.favouriteIDs=t.favouriteIDs.filter(n=>n!==r.payload)},clearFavourites:t=>{t.favouriteIDs=[]}}}),{addToFavourites:ot,removeFromFavourites:lt,clearFavourites:ar}=U.actions;function K(){return Y(t=>t.favourites.favouriteIDs)}function J(){const t=V();return(r,n)=>t(n?lt(r):ot(r))}var st=U.reducer;const ct={selectedChapters:{}},X=j({name:"favourites",initialState:ct,reducers:{selectChapter:(t,r)=>{t.selectedChapters[r.payload]=!0},deselectChapter:(t,r)=>{t.selectedChapters[r.payload]=!1},clearSelectedChapters:t=>{t.selectedChapters={}}}}),{selectChapter:dt,deselectChapter:ut,clearSelectedChapters:ir}=X.actions;function ht(){return Y(t=>t.selectedChapters.selectedChapters)}function ft(){const t=V();return(r,n)=>t(n?ut(r):dt(r))}var mt=X.reducer;const ee="HIST130-Quiz";function pt(){try{const t=localStorage.getItem(ee);return t?JSON.parse(t):void 0}catch{return}}function gt(t){try{const r=JSON.stringify(t);localStorage.setItem(ee,r)}catch{}}const B=fe({reducer:{favourites:st,selectedChapters:mt},preloadedState:pt()});B.subscribe(me(()=>{gt(B.getState())},2e3));var vt=pe({palette:{primary:{main:ge["900"],light:"#534bae",dark:"#000051"},secondary:{main:ve["500"],light:"#6ec6ff",dark:"#0069c0"}}});const te="/HIST130-Quiz/",bt=be.create({baseURL:te,headers:{"Content-Type":"application/json",Accept:"application/json"}});async function k(t){return bt.get(t).then(r=>r.data)}const re=new ye({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1}}});re.prefetchQuery("chapters",()=>k("/chapters.json"));function yt(){return a(f,{children:[e(o,{variant:"h4",children:"About this website"}),e(o,{variant:"body1",marginBottom:4,children:"This website is an interactive app to help you memorise the definitions of HIST 130 at CSUSM."}),e(o,{variant:"h5",children:"Reference"}),a(o,{variant:"body1",marginBottom:2,children:["In the"," ",e(d,{color:"primary",component:u,to:"/",children:"Reference"})," ","tab, you can find the list of definitions, grouped by chapter."]}),e(o,{variant:"h5",children:"Favourites"}),a(o,{variant:"body1",marginBottom:2,children:["Go to the"," ",e(d,{color:"primary",to:"/",component:u,children:"Reference"})," ","page and click the"," ",e(q,{color:"action",fontSize:"small",style:{verticalAlign:"text-top"}})," ","icon to add some definitions to your favourites. You can browse your favourites"," ",e(d,{color:"primary",to:"/favourites",component:u,children:"here"}),"."]}),e(o,{variant:"h5",children:"Quiz"}),a(o,{variant:"body1",marginBottom:2,children:["Test your memory in the"," ",e(d,{component:u,to:"/quiz",children:"Quiz"})," ","tab! Find a term, given its definition. You can narrow which chapters you want to train with."]}),e(o,{variant:"h5",children:"Feedback"}),a(o,{variant:"body1",marginBottom:4,children:["Is something wrong? A bug? A question? An idea? A request? Click the"," ",e(M,{color:"action",fontSize:"small",style:{verticalAlign:"text-top"}})," ","icon in the top-right corner to get in touch!"]}),e(o,{variant:"h4",children:"Credits"}),a(o,{variant:"body1",marginBottom:4,children:["All the definitions were handwritten from the book"," ",e(d,{href:"https://www.macmillanlearning.com/college/us/product/The-American-Promise-Volume-1/p/1319208894",target:"_blank",children:"The American Promise (Roark et al., 2019)"}),". The rest of the"," ",e(d,{href:"https://github.com/Haltarys/HIST130-Quiz",target:"_blank",children:"code"})," ","was written by me,"," ",e(d,{href:"https://github.com/Haltarys",target:"_blank",children:"Haltarys"}),", under an"," ",e(d,{href:"https://mit-license.org/",target:"_blank",children:"MIT licence"}),"."]})]})}function ne(t){return t===void 0?z("definitions",()=>k("/definitions.json")):z(["definitions",t],()=>k("/definitions.json").then(r=>r==null?void 0:r.filter(n=>n.chapterId===t)))}function O(){return z("chapters",()=>k("/chapters.json"))}function St(t){return[...Array(t).keys()]}function xt(){return e(C,{item:!0,xs:12,sm:6,md:4,lg:3,children:a(P,{sx:{backgroundColor:Se["100"]},children:[e(E,{title:e(p,{variant:"text",children:e(o,{variant:"h5",children:"Lorem ipsum dolor sit."})}),subheader:e(p,{variant:"text",children:e(o,{variant:"body1",children:"Lorem, ipsum dolor."})})}),e(G,{children:e(p,{variant:"text",children:e(o,{variant:"body2",color:"text.secondary",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Qui sapiente soluta aliquid porro rem sunt molestiae neque, consectetur rerum harum atque molestias hic quidem cum."})})}),e(W,{children:e(p,{variant:"circular",width:59,height:59})})]})})}function Ct(){return a(f,{children:[e(p,{variant:"text",children:e(o,{variant:"h4",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})}),e(p,{variant:"text",children:e(o,{variant:"body1",children:"Lorem ipsum dolor sit."})})]})}function kt({header:t}){return t===void 0?e(Ct,{}):typeof t=="string"?e(o,{variant:"h4",children:t}):e(f,{children:t})}function _({header:t,children:r}){return a(C,{container:!0,spacing:2,paddingBottom:3,children:[e(C,{item:!0,xs:12,children:e(kt,{header:t})}),r]})}function F({numberOfPlaceholders:t=12}){return e(_,{header:void 0,children:St(t).map((r,n)=>e(xt,{},n))})}function y({children:t}){return e(D,{height:"100%",display:"grid",sx:{placeItems:"center"},children:a(o,{color:"error",component:"div",textAlign:"center",children:[e(xe,{color:"error",sx:{fontSize:96}}),e(o,{variant:"h4",color:"error",children:"An error occurred:"}),t||"Unknown error."]})})}function Ft(){return a(o,{color:"secondary",component:"div",sx:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:2},children:[e(Ce,{color:"secondary",sx:{fontSize:96}}),e(o,{variant:"h4",color:"secondary",children:"Nothing favourites found."}),a(o,{variant:"body1",children:["Go to the"," ",e(d,{color:"secondary",to:"/",component:u,sx:{fontWeight:"bold"},children:"Reference"})," ","page and click the"," ",e(q,{color:"action",fontSize:"small",style:{verticalAlign:"text-top"}})," ","icon to add some definitions to your favourites."]})]})}function ae({definition:t,subheader:r,isFavourite:n,onBookmark:s}){return e(C,{item:!0,xs:12,sm:6,md:4,lg:3,display:"flex",children:a(P,{elevation:2,sx:{display:"flex",flexDirection:"column",":hover":{boxShadow:8}},children:[e(E,{title:t.term,subheader:r}),e(G,{sx:{flexGrow:1},children:e(o,{variant:"body2",color:"text.secondary",children:t.text})}),e(W,{children:e(S,{title:n?"Remove from Favourites":"Add to Favourites",children:e(I,{size:"large",onClick:()=>s(t.id,n),color:n?"secondary":"default",children:n?e(ke,{fontSize:"large"}):e(q,{fontSize:"large"})})})})]})})}function It(){const{isLoading:t,error:r,data:n}=ne(),{isLoading:s,error:l,data:i}=O(),c=K(),w=J(),g=n==null?void 0:n.filter(h=>c.includes(h.id));return t||s?e(F,{}):r?e(y,{children:r==null?void 0:r.message}):l?e(y,{children:l==null?void 0:l.message}):!g||g.length===0?e(Ft,{}):e(_,{header:"Favourites",children:g.map(h=>{var N;const A=(N=i==null?void 0:i.find(ie=>ie.id===h.chapterId))==null?void 0:N.title;return e(ae,{definition:h,subheader:`${A} (page ${h.pageNumber})`,isFavourite:c.includes(h.id),onBookmark:w},h.id)})})}function wt(){return a(y,{children:[e(o,{variant:"h6",children:"Page not found."}),a(o,{variant:"body1",children:["Go to"," ",e(d,{color:"error",to:"/",component:u,sx:{fontWeight:"bold"},children:"homepage"}),"."]})]})}function At(){const{isLoading:t,error:r,data:n}=O(),s=ht(),l=ft();return t?e("div",{children:"loading..."}):r?a("div",{children:["Error: ",r.message]}):e(Fe,{children:n==null?void 0:n.map(i=>e(S,{placement:"right",title:`${i.title}: ${i.subtitle}`,children:a(x,{children:[e(Ie,{children:i.title}),e(we,{checked:s[i.id]||!1,onChange:()=>l(i.id,s[i.id]||!1),edge:"end"})]})},i.id))})}function Tt(){return e(Ae,{height:"100%",display:"grid",sx:{placeItems:"center"},children:e(At,{})})}function zt({chapter:t}){return a(f,{children:[a(o,{variant:"h4",children:[t.title,": ",t.subtitle]}),a(o,{variant:"body1",children:[t.period," (page ",t.pageNumber,")"]})]})}function Dt({chapter:t}){const{isLoading:r,error:n,data:s}=ne(t.id),l=K(),i=J();return r?e(F,{}):n?e(y,{children:n.message}):e(_,{header:e(zt,{chapter:t}),children:s==null?void 0:s.map(c=>e(ae,{definition:c,subheader:`${t.title} (page ${c.pageNumber})`,isFavourite:l.includes(c.id),onBookmark:i},c.id))})}function Lt(){return a(f,{children:[e(F,{}),e(F,{})]})}function Bt(){const{isLoading:t,error:r,data:n}=O();return t?e(Lt,{}):r?e(y,{children:r==null?void 0:r.message}):e(f,{children:n==null?void 0:n.map(s=>e(Dt,{chapter:s},s.id))})}function qt(){return e(Te,{maxWidth:"xl",component:"main",sx:{height:"100%",paddingY:3},children:a(ze,{children:[e(m,{path:"*",element:e(wt,{})}),e(m,{path:"/",element:e(Bt,{})}),e(m,{path:"/favourites",element:e(It,{})}),e(m,{path:"/favorites",element:e(De,{to:"/favourites",replace:!0})}),e(m,{path:"/quiz",element:e(Tt,{})}),e(m,{path:"/about",element:e(yt,{})})]})})}function $t({handleClick:t}){return e(S,{title:"Send Feedback",children:e(I,{size:"large",color:"inherit",onClick:t,children:e(M,{})})})}const Ht="default_service",Ot="ZIKOORmHl6Yks5NsS",_t="HIST130-Quiz";Z.init(Ot);async function Nt(t){return Z.send(Ht,_t,t).then(()=>({success:!0,message:"Feedback sent."})).catch(r=>({success:!1,message:r.text}))}function Rt({handleClose:t}){return e(Le,{variant:"outlined",onClick:t,children:"Cancel"})}function Qt({loading:t}){return e(Be,{type:"submit",variant:"contained",startIcon:e(qe,{}),loading:t,loadingPosition:"start",children:"Send"})}function jt({control:t}){return e($,{control:t,name:"object",defaultValue:"",rules:{required:!0},render:({field:r,fieldState:{invalid:n}})=>a(H,b(v({},r),{variant:"outlined",label:"Object",select:!0,required:!0,placeholder:"Select a type of feedback",error:n,helperText:n&&"Please select a type of feedback",fullWidth:!0,margin:"normal",children:[e(x,{value:"feature",children:"Feature request"}),e(x,{value:"bug",children:"Bug report"}),e(x,{value:"other",children:"Other"})]}))})}const Mt=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Pt({control:t}){return e($,{control:t,name:"email",defaultValue:"",rules:{required:!1,pattern:Mt},render:({field:r,fieldState:{invalid:n}})=>e(H,b(v({},r),{variant:"outlined",label:"Email address (optional)",type:"email",placeholder:"Only required if you want me to reach back.",error:n,helperText:n&&"Invalid email address",fullWidth:!0,margin:"normal",InputProps:{startAdornment:e($e,{position:"start",children:e(He,{})})}}))})}function Et({control:t}){return e($,{control:t,name:"message",defaultValue:"",rules:{required:!0},render:({field:r,fieldState:{invalid:n}})=>e(H,b(v({},r),{variant:"outlined",label:"Your message",type:"text",required:!0,error:n,helperText:n&&"Let me know your thoughts.",multiline:!0,rows:8,fullWidth:!0,margin:"normal"}))})}function Gt(t){return e(Ne,b(v({},t),{direction:"left"}))}function Wt({feedback:{success:t,message:r},clearFeedback:n}){const s=(l,i)=>{i!=="clickaway"&&n()};return e(Oe,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:!0,message:r,autoHideDuration:6e3,TransitionComponent:Gt,onClose:s,children:e(_e,{variant:"filled",severity:t?"success":"error",sx:{width:"100%"},onClose:s,children:r})})}function Zt({open:t,handleClose:r}){const[n,s]=L.exports.useState(!1),[l,i]=L.exports.useState(void 0),{control:c,handleSubmit:w,reset:g}=Re({mode:"onBlur",reValidateMode:"onBlur",shouldUnregister:!0}),h=w(async A=>{s(!0),i(await Nt(A)),r(),s(!1),g()});return a(f,{children:[e(Qe,{open:t,onClose:r,disableEscapeKeyDown:n,onBackdropClick:()=>{n||r()},children:a("form",{onSubmit:h,children:[e(je,{children:"Send feedback"}),a(Me,{children:[e(jt,{control:c}),e(Pt,{control:c}),e(Et,{control:c})]}),a(Pe,{children:[e(Rt,{handleClose:r}),e(Qt,{loading:n})]})]})}),l&&e(Wt,{feedback:l,clearFeedback:()=>i(void 0)})]})}function Vt(){const[t,r]=L.exports.useState(!1);return a(f,{children:[e($t,{handleClick:()=>r(!0)}),e(Zt,{open:t,handleClose:()=>r(!1)})]})}function Yt(){return e(S,{title:"About this website",children:e(I,{size:"large",color:"inherit",component:u,to:"/about",children:e(Ee,{})})})}function Ut(){return e(o,{variant:"subtitle1",component:"h2",sx:{flexGrow:1},children:"Made with \u2764\uFE0F by Haltarys!"})}function Kt(){const t=Ge(),r=["/","/favourites","/quiz"].includes(t.pathname)?t.pathname:!1;return a(We,{value:r,indicatorColor:"secondary",variant:"fullWidth",textColor:"inherit",component:"nav",children:[e(T,{value:"/",label:"Reference",component:u,to:"/"}),e(T,{value:"/favourites",label:"Favourites",component:u,to:"/favourites"}),e(T,{value:"/quiz",label:"Quiz",component:u,to:"/quiz"})]})}function Jt(){return e(o,{variant:"h6",sx:{flexGrow:1},component:"h1",children:e(d,{color:"inherit",underline:"none",component:u,to:"/",children:"HIST 130 Quiz"})})}function Xt(){return e(S,{title:"View the source code on Github!",children:e(I,{size:"large",color:"inherit",href:"https://github.com/Haltarys/HIST130-Quiz",target:"_blank",rel:"norefferer noopener",children:e(Ze,{})})})}function er(){return a(Ve,{position:"sticky",children:[a(Ye,{children:[e(Jt,{}),e(Ut,{}),e(Vt,{}),e(Yt,{}),e(Xt,{})]}),e(Kt,{})]})}function tr(){return a(D,{display:"flex",flexDirection:"column",height:"100%",children:[e(er,{}),e(D,{display:"flex",height:"100%",flex:1,sx:{overflowY:"auto",flexFlow:"column"},children:e(qt,{})}),e(Ue.exports.ReactQueryDevtools,{})]})}Ke.render(e(Je.StrictMode,{children:e(Xe,{basename:te,children:e(et,{children:e(tt,{theme:vt,children:e(rt,{client:re,children:e(nt,{store:B,children:e(tr,{})})})})})})}),document.getElementById("root"));
